<!DOCTYPE html>
<html>
<head>
    <title>TT Library Mk5</title>
    <link href="assets/stylesheets/bootstrap-5.0.2.css" media="all" rel="stylesheet" />
    <style>
        #body-wrapper {
            width: 1050px;
            margin: 0 auto 3em;
        }
        nav ul li {
            text-align: center;
        }
        header[data-event="setup"] {
            background-color: #0D0D0D;
        }
        #logo {
            height: 28px;
            width: 510px;
            margin: 0 auto;
            background-color: #fff;
            text-align: right;
            line-height: 22px;
            padding: 3px 9px;
            letter-spacing: .04em;
            font-family: Verdana, Geneva, sans-serif;
            font-weight: bold;
            color: #000;
        }
        #tabletop-tag {
            height: 60px;
            width: 510px;
            margin: 0 auto;
            background: url("assets/images/tabletop_tag_mk5.png") no-repeat;
        }
        footer[data-event="setup"] {
            background-color: #0D0D0D;
        }
        footer {
            background-color: #eee;
            width: 100%;
            position: fixed;
            bottom: 0;
            height: 3em;
            color: #fff;
        }
        footer div {
            transform: translateX(0%) translateY(50%);
        }
        .row{
            margin: 0;
        }
        .alert-text-box {
            padding: 10px 40px;
            border: 1px solid #ccc;
            border-radius: 4px;
            text-align: center;
        }
        .alert-text-box p {
            margin: 0;
        }
    </style>
</head>
<body>

<header data-event="setup" style="height: 90px;">
    <div class="col-xs-2"></div>
    <div class="col-xs-8">
        <div id="tabletop-tag"></div>
        <div id="logo">
            README
        </div>
    </div>
    <div class="col-xs-2"></div>
</header>

<div id="body-wrapper" class="container">

    <div class="row"><br/></div>

    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8" style="border: 1px solid #aaa; border-radius: 3px; background-color: #ddd; padding: 15px;">
            <p style="border-bottom: 1px solid #bbb;">Table of Contents</p>
            <h4>Steps for Setup</h4>
            <ol>
                <li>
                    <a href="#starting-the-library" class="text-decoration-none">Starting the TT Library server</a>
                </li>
                <li>
                    <a href="#linking-other-laptops" class="text-decoration-none">Linking other laptops to the server for use</a>
                </li>
                <li>
                    <a href="#creating-event" class="text-decoration-none">Creating a new Event</a>
                </li>
                <li>
                    <a href="#scan-through-setup" class="text-decoration-none">Scanning games through Setup (optional)</a>
                </li>
            </ol>
            <h4>Steps for Teardown</h4>
            <ol>
                <li>
                    <a href="#scan-through-teardown" class="text-decoration-none">Scanning games through Teardown (optional)</a>
                </li>
                <li>
                    <a href="#stopping-the-library" class="text-decoration-none">Stopping/restarting the Library server</a>
                </li>
            </ol>
            <h4>FAQ</h4>
            <ul>
                <li>
                    <a href="#server-wont-start" class="text-decoration-none">The Server Shows An Error On Startup</a>
                </li>
            </ul>
        </div>
    </div>

    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <h3 id="starting-the-library">
                Starting the TT Library server
                <small>[required]</small>
            </h3>
            <p>
                Follow these steps to start the Tabletop Library server.
            </p>
            <ul>
                <li>
                    Copy the whole folder containing the Library, as is, to the desktop of a laptop running Windows 7 or later.
                </li>
                <li>
                    Double click the "start.bat" file. (One console window will open.) The window will
                    tell you about another window that's about to open.
                </li>
                <li>
                    Press any key ONCE to continue. (The second console window will open.)
                </li>
                <li>
                    Enter the two commands from the first console window into the second one as described.
                    See below for examples of what you'll be entering.
                    <p><em>Example commands to enter in the second console:</em></p>
                    <pre>
    cd "C:/Users/Intel/Desktop/TTlib/TTlib"
    rails s</pre>
                </li>
                <li>
                    After entering the second command, the server will start.
                    Wait until you see the line below before trying to access anything:
                    <pre>
    [...]
    Listening on 0.0.0.0:3000/, CTRL+C to stop</pre>
                </li>
            </ul>
            <div class="alert-text-box alert-warning">
                <p>
                    Do <strong>NOT</strong> close either console window while the server is in use.<br/>
                    Closing these windows will stop part of or all of the library!
                </p>
            </div>
            <p>
                To access the Library on the server computer, open a browser and type in the following address:
                <pre>
    http://localhost:3000/</pre>
                Follow the instructions under <a href="#linking-other-laptops" class="text-decoration-none">Linking other laptops to the server for use</a> to access the Library from a connected computer.
            </p>
        </div>
    </div>

    <div class="row"><br/></div>

    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <h3 id="linking-other-laptops">
                Linking other laptops to the server for use
                <small>[required]</small>
            </h3>
            <p>
                Follow these steps to link one or more laptop computers to the server computer for use as a Checkout/Return station.
            </p>
            <ul>
                <li>
                    Setup a wireless router by plugging it into power.
                </li>
                <li>
                    Connect the server and any computers you wish to connect to the router via an ethernet cable. Any ports work, so long as all computers are connected to the same router.
                </li>
                <li>
                    Open a new command line terminal on the server computer.
                </li>
                <li>
                    Type in the command "ipconfig" and hit "enter".
                    <p><em>Example command entry:</em></p>
                    <pre>
    ipconfig</pre>
                </li>
                <li>
                    Some output will appear. Look for the line labeled "IPv4 address".
                    <p><em>Example output:</em></p>
                    <pre>
    IPv4 Address..............: 192.168.26.119</pre>
                </li>
                <li>
                    Open Chrome on any of the connected computers.
                </li>
                <li>
                    Copy the address ("192.168.26.119" in the example above) into the address bar of Chrome and append ":3000/" to the end of it.
                    <p><em>Example copied address with ":3000/" appended:</em></p>
                    <pre>
    192.168.26.119:3000/</pre>
                </li>
                <li>
                    Hit "enter". The main page of the library server should load in the connected computer's browser.
                </li>
                <li>
                    Bookmark this page or set it as the home page on the connected computer.
                </li>
            </ul>
        </div>
    </div>

    <div class="row"><br/></div>

    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <h3 id="creating-event">
                Creating a new Event
                <small>[required]</small>
            </h3>
            <p>
                Follow these steps to create a new Event and prepare the Library to be used at a new event.
            </p>
            <ul>
                <li>
                    Follow the steps in <a href="#starting-the-library" class="text-decoration-none">Starting the TT Library server</a>.
                </li>
                <li>
                    Navigate to Admin > Events.
                </li>
                <li>
                    Click on "Add Event".
                </li>
                <li>
                    A row with inputs will appear. Enter the new event's name, city & state, start date, end date, and the hours offset from UTC of the city.<br/>(This is generally -5/-4 for Boston, -7/-8 for Seattle, and -6/-7 for San Antonio. If you're not sure what the offset is then google the city/state + a phrase like "utc offset".)
                </li>
                <li>
                    Click "Add" on the row.
                </li>
                <li>
                    Refresh the page. The colors and title of the page should update to reflect the new event.
                </li>
            </ul>
            <p class="alert-text-box alert-warning">
                Event information is editable before or after a show, but not on or between the start/end dates listed!
            </p>
        </div>
    </div>

    <div class="row"><br/></div>

    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <h3 id="scan-through-setup">
                Scanning games through Setup
                <small>[optional]</small>
            </h3>
            <p>
                Follow these steps to scan games through Setup. This step is optional, however, it helps the management team to check inventory and confirm all games are in the system prior to the start of the show.
            </p>
            <p class="alert-text-box alert-warning">
                The Library server must be running and used for this task. If it's not, then you can follow the steps in <a href="#starting-the-library" class="text-decoration-none">Starting the TT Library server</a> to set it up.
            </p>
            <ul>
                <li>
                    Navigate to <a href="/admin/setup" class="text-decoration-none">Setup Scanning</a> under the Admin tab.
                </li>
                <li>
                    Scan every game in the library, one at a time.
                </li>
                <li>
                    The following message should appear on screen with the relevant game details after each game is scanned.
                    <div class="row alert alert-success">
                        <div class="col-xs-6" style="text-align: center;">
                            <p>
                                Checked in game for setup:
                            </p>
                        </div>
                        <div class="col-xs-6" style="text-align: center;">
                            <p>
                                TTL0000TT - Test Game
                                <br/>
                                <small>by Test Publisher</small>
                            </p>
                        </div>
                    </div>
                </li>
            </ul>
            <p>
                <em>
                If system claims "No game found!", then set the game aside to be checked, re-added, or re-labeled.
                </em>
            </p>
        </div>
    </div>

    <div class="row"><br/></div>

    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <h3 id="scan-through-teardown">
                Scanning games through Teardown
                <small>[optional]</small>
            </h3>
            <p>
                Follow these steps to scan games through Teardown. This step is optional, however, it helps the management team to check inventory and account for any missing games.
            </p>
            <p class="alert-text-box alert-warning">
                The Library server must be running and used for this task. If it's not, then you can follow the steps in <a href="#starting-the-library" class="text-decoration-none">Starting the TT Library server</a> to set it up.
            </p>
            <ul>
                <li>
                    Navigate to <a href="/admin/teardown" class="text-decoration-none">Teardown Scanning</a> under the Admin tab.
                </li>
                <li>
                    Scan every game in the library, one at a time.
                </li>
                <li>
                    The following message should appear on screen with the relevant game details after each game is scanned.
                    <div class="row alert alert-success">
                        <div class="col-xs-6" style="text-align: center;">
                            <p>
                                Checked in game for teardown:
                            </p>
                        </div>
                        <div class="col-xs-6" style="text-align: center;">
                            <p>
                                TTL0000TT - Test Game
                                <br/>
                                <small>by Test Publisher</small>
                            </p>
                        </div>
                    </div>
                </li>
            </ul>
            <p>
                <em>
                    If system claims "No game found!", then set the game aside to be checked, re-added, or re-labeled.
                </em>
            </p>
        </div>
    </div>

    <div class="row"><br/></div>

    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <h3 id="stopping-the-library">
                Stopping/restarting the Library server
                <small>[required]</small>
            </h3>
            <p>
                Follow these steps to stop/restart the Library server.
            </p>
            <ul>
                <li>
                    Bring up the terminal window belonging to the Rails server. This is the second window that opens and will be output continuous logs as the application is being used.
                </li>
                <li>
                    Press ctrl + C. Output should stop immediately or within a few seconds.
                </li>
                <li>
                    To restart the server, type "rails s" and hit enter. Wait until you see the line below before trying to access anything:
                    <pre>
    [...]
    Listening on 0.0.0.0:3000/, CTRL+C to stop</pre>
                </li>
            </ul>
        </div>
    </div>

    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <h3 id="server-wont-start">The Server Shows An Error On Startup</h3>
            <p>
                Q: I get some weird error message in the command line terminal when I try to <a href="#starting-the-library" class="text-decoration-none">start the server with the "rails s" command</a>. What am I doing wrong?
                <br/><br/>
                A: There can not be any spaces in the file path to the library package due to an issue with how some commands in the server environment are made. Check where the Library folder sits at by right-clicking on the folder and selecting "Properties". Usually this issue will occur when a username or some other path has a space in it. For example, the following path will cause an error to occur because there's a space between "Joe" and "Greathead" even though this is a valid folder/user name:
                <pre>
    C:\Users\Joe<span style="background-color: yellow;"> </span>Greathead\Desktop\tabletop_library_mk5</pre>
                In order to fix this, you need to move the whole library folder to a location that does not have spaces in it. The easiest way to do this is to move the library to the root folder on the machine's drive.
                <pre>
    C:\tabletop_library_mk5</pre>
                This will prevent the error from occuring and allow you to start the server. The location, with the exception of this issue, does not affect how the server runs.
            </p>
        </div>
    </div>

</div>

<div class="row"><br/></div>
<div class="row"><br/></div>

<footer data-event="setup">
    <div class="col-xs-4"></div>
    <div class="col-xs-4" style="text-align: center;">
        Welcome to Tabletop!
    </div>
</footer>

</body>
</html>

